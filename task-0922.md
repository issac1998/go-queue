你好，今天请你依次做以下任务，这是最终一次功能测试，请确保目前的功能都是完整可用的功能，没有遗漏。在每实现一个功能修改或测试修复时，请提交一条git commit，如果无法提交commit，请讲改动按顺序输出到某个文档中。
# 任务1
整理现有代码，将现有功能整理并输出到一个文档。在整理的过程中，如果发现明显错误请立即改正，发现有未使用的方法，请立即删除。
# 任务2 
编写单元测试，对任务1产生的现有功能作完整的功能测试，并修复已有bug，测试过程中，你需要首先搭建etcd和broker集群，tcd的地址在/Users/a/Downloads/etcd-v3.6.4-darwin-arm64/etcd。每次测试前，请不要忘了清理历史数据。如果编写测试代码，请输出测试文件，并说明测试要求。测试时，请不要作任何简化和降级，这是最终的一次测试，需要保证各功能可用。
# 任务3
参考主流消息队列，查看现有代码还缺什么功能，按优先级排列并输出到文档中，后续会实现这些功能。